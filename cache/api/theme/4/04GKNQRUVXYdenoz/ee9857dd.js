flexbe_cli.entity.setClientJs("modal","GRID",{components:["background"],onClose(){this.$area.find(".component-form .is_error").removeClass("is_error")}});

flexbe_cli.entity.setClientJs("widget","ANCHORS",{require:["/_s/lib/anime/anime.min.js?321"],$list:null,onLoad(){this.$list=this.$widget.find(".anchors-list"),this.list="object"==typeof this.$list.data("anchors")&&this.$list.data("anchors").list||[];const t=this.list.reduce(((t,e)=>t+e.enabled),0)<2,e={style:1,show_title:0,...this.$list.data("anchors")};this.$list.toggleClass("is-empty",t),this.style=e.style,this.show_title=e.show_title,this.$list.removeAttr("data-anchors"),flexbe_cli.run.is_mobile||(this.drawList(),this.bindEvents(),flexbe_cli.is_admin&&(flexbe_cli.events.off("layout_change.anchors").on("layout_change.anchors",(t=>{"block"===t.is&&this.drawList()})),flexbe_cli.events.off("page-settings_update").on("page-settings_update",(t=>{t.p_data.p_data.show_bullets?this.$list.show():this.$list.hide()}))))},check(){const t=flexbe_cli.block.$blocks.not("[data-overlayed]");this.list=this.list.filter((e=>{const i=t.closest(`[data-id="${e.id}"]`),s=i.attr("data-hidden")||"none";return e.enabled&&i[0]&&["none","mobile"].includes(s)}))},drawList(){flexbe_cli.block.$blocks.length&&flexbe_cli.vars._page.showBullets||this.$list.hide(),this.check();let t="";flexbe_cli.is_admin&&this.list.length<2?t='<svg style="color: #adadad" width="18" height="98" viewBox="0 0 18 98" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" fill-rule="evenodd">\n                    <circle opacity=".05" cx="9" cy="5" r="5"/>\n                    <circle opacity=".2" cx="9" cy="25" r="5"/>\n                    <circle opacity=".2" cx="9" cy="73" r="5"/>\n                    <circle opacity=".05" cx="9" cy="93" r="5"/>\n                    <path d="M9 40a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm5.126 9.626h-4.5v4.5H8.34v-4.5h-4.5V48.34h4.5v-4.5h1.286v4.5h4.5v1.286z" opacity=".45"/>\n                </g>\n            </svg>':this.list.length>=2&&(this.list.forEach((e=>{const i=this.show_title&&e.title?` data-title="${e.title}"`:"";t+=`<li${i}><a href="#${e.id}"></a></li>`})),t+='<li class="helper"><a></a></li>'),this.$list.find("ul").html(t),this.$helper=this.$list.find(".helper"),this.animateList()},animateList(){if(!(this.list.length<1)){if(flexbe_cli.is_admin)this.$helper.css({opacity:1,transform:`translateY(${24*this.index}px)`});else{const t=anime({targets:this.$list.find("li").not(this.$helper).get(),duration:350,opacity:[0,1],scale:[.8,1],translateY:[10,0],easing:"easeInOutQuad",autoplay:!1,delay:(t,e)=>30*e,complete:()=>{anime({targets:this.$helper.get(),duration:400,translateY:24*this.index,scale:[2.5,1],opacity:[0,1],easing:"easeInExpo"})}});this.$list.addClass("hide"),setTimeout((()=>{this.$list.removeClass("hide"),t.play()}),800)}this.$list.find("li").removeClass("active").eq(this.index).addClass("active")}},index:0,bindEvents(){flexbe_cli.events.off("entity_event.anchors").on("entity_event.anchors",(({type:t,core:e,params:i})=>{"focusing"===t&&i.state&&"block"===e.is&&this.setBlock(e)})),flexbe_cli.block.$blocks.each(((t,e)=>{const i=e._core;i&&i.inFocus&&this.setBlock(i)})),this.$list.on("click","li",(t=>{if(!$(t.target).is("a"))return $(t.currentTarget).find("[href]").trigger("click"),t.preventDefault(),!1}))},setBlock(t){let e=this.index,i="#6a6a6a";const s=t.content||t.$area.find(".container")[0];if(s){const t=s.closest("[data-contrast]").getAttribute("data-contrast");i=t?"light"===t?"#FFF":"#1B1B1C":getComputedStyle(s).color}this.$list.css("color",i),this.list.some(((i,s)=>i.id===t.id&&(e=s,!0))),e=Math.max(0,Math.min(this.list.length-1,e)),e!==this.index&&(this.animate(e),this.index=e)},animate(t){if(this.$list.find("li").removeClass("active"),this.$list.find("li").eq(t).addClass("active"),1==+this.style){const e=24*t,i=t-this.index>0?12:-12;anime.remove(this.$helper[0]),anime({targets:this.$helper[0],translateY:e-i,scaleY:2.5,scaleX:.6,duration:100,easing:"easeInQuad",complete:()=>{anime({targets:this.$helper[0],translateY:e,scaleY:1,scaleX:1,duration:100,easing:"easeOutQuad"})}})}}});

flexbe_cli.entity.setClientJs("element","icon01",{components:["image","icon"]});

flexbe_cli.entity.setClientJs("element","media01",{components:["image","video","slider"]});

flexbe_cli.entity.setClientJs("element","rotator01",{require:["/_s/lib/typed/typed.min.js","/_s/lib/anime/anime.min.js?321"],$rotator:null,$list:null,$animationElement:null,eventId:null,animation:null,animationId:null,speed:null,delay:null,loop:null,animationSet:!1,animationStarted:!1,completedEvent:null,animeFunction:null,typedFunction:null,maxHeight:0,documentHidden:null,documentVisibilityChange:null,onInit(){this.events(),this.setInitParams()},onLoad(){!this.inScreen||this.animationSet||this.animationStarted||(this.animationSet=!0,this.setInitParams(),this.startAnimation())},onScreen(t){const i=this.animationSet&&this.animationStarted;this.loaded&&(t&&!i?(this.animationSet=!0,this.clearAnimation(),this.setInitParams(),this.startAnimation()):t&&i?this.restartAnimation():!t&&i&&this.pauseAnimation())},onResize(){this.setMaxHeight(),this.loaded&&0!==this.maxHeight&&(this.clearAnimation(),this.startAnimation())},onUpdate(){this.clearAnimation(),this.setInitParams()},events(){void 0!==document.hidden?(this.documentHidden="hidden",this.documentVisibilityChange="visibilitychange"):void 0!==document.msHidden?(this.documentHidden="msHidden",this.documentVisibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.documentHidden="webkitHidden",this.documentVisibilityChange="webkitvisibilitychange"),document.addEventListener(this.documentVisibilityChange,this.handleVisibilityChange.bind(this),!1),flexbe_cli.events.on(`font_changed.${this.eventId}`,(()=>{this.setMaxHeight()}))},handleVisibilityChange(){this.animationSet&&this.animationStarted&&(document[this.documentHidden]?this.pauseAnimation():setTimeout((()=>this.restartAnimation()),100))},setInitParams(){this.$rotator=this.$area.find(".text-rotator"),this.$animationElement=this.$rotator.find(".text-animation"),this.animationId=this.$animationElement.attr("data-id"),this.eventId=`anim_${this.id}`,this.maxHeight=0,this.$rotator.addClass(this.eventId),this.setList(),this.setMaxHeight()},setList(){this.$list=this.$area.find(".animation-container").filter(((t,i)=>!!$(i).find(".animate")[0].innerText&&i)).each(((t,i)=>{const n=$(i).find(".animate")[0],e=n.innerText;n.innerHTML=e.replace(/(<[^>]+>)/g,"")}))},setMaxHeight(){null!=this.$list&&this.$list.length>0?(this.maxHeight=0,this.$list.each(((t,i)=>{const n=this.$area.closest(".modal-content").length>0,e=$(i).find(".animate")[0],a=e.innerText;n&&!this.inScreen?this.maxHeight="auto":"typing"!==this.animationId||this.animation?("counter"!==this.animationId&&this.breakToWordsAndLetters($(i)),this.maxHeight=Math.max(this.maxHeight,$(i).height()),e.innerHTML=a):(e.innerText=`${i.innerText}|`,this.maxHeight=Math.max(this.maxHeight,$(i).height()),e.innerText=i.innerText.slice(0,i.innerText.length-1))}))):this.maxHeight=+this.$rotator.attr("data-size"),this.$area.find(".rotator-holder").css("height",this.maxHeight)},setAnimationParams(){this.$rotator.removeClass("animation-stopped"),this.$rotator.addClass("to-animate"),this.speed=1/+this.$animationElement.attr("data-speed"),this.delay=1e3*+this.$animationElement.attr("data-delay"),this.loop="true"===this.$animationElement.attr("data-loop"),this.animation=this.parseAnimation()},startAnimation(){this.setAnimationParams();const t=this.$list&&this.$list.length>0||!1,i=this.animation&&this.animation.id||!1,n=this.animeFunction&&this.animeFunction.children||!1,e=this.typedFunction&&this.typedFunction.strings||!1;t&&i&&!this.animationStarted&&this.maxHeight>0&&(this.animationStarted=!0,"typing"===this.animation.id||n?e||this.startTypingAnimation():(this.$rotator.removeClass("to-animate"),this.playListItem(0)))},pauseAnimation(){const t=this.animeFunction&&this.animeFunction.children||!1,i=this.typedFunction&&this.typedFunction.strings||!1;"typing"===this.animationId&&i?this.typedFunction.stop():t&&this.animeFunction.pause()},restartAnimation(){const t=this.animeFunction&&this.animeFunction.children||!1,i=this.typedFunction&&this.typedFunction.strings||!1;"typing"===this.animationId&&i?this.typedFunction.start():t&&this.animeFunction.play()},playListItem(t){const i=$(this.$list[t]);i.addClass("active"),this.onAnimationStart({index:t,$target:i})},onAnimationStart({index:t,$target:i}){if(this.animation.steps&&this.animation.steps.length){const n=`.text-rotator.${this.eventId} .animation-container.active`;if(this.animation.replaceString){const t=i.find(".animate")[0],n=t.innerText;t.innerHTML=n.replace(/({.+})|(\[([^\]]+)])|(\S*\(([^)]+)\)\S{0,1})|\S+/g,"<span class='word'>$&</span>");const e="(?:[âœ€-âž¿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]ï¸?âƒ£|ãŠ™|ãŠ—|ã€½|ã€°|â“‚|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|ðŸ†Ž|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|ðŸˆš|ðŸˆ¯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|â€¼|â‰|[â–ª-â–«]|â–¶|â—€|[â—»-â—¾]|Â©|Â®|â„¢|â„¹|ðŸ€„|[â˜€-â›¿]|â¬…|â¬†|â¬‡|â¬›|â¬œ|â­|â­•|âŒš|âŒ›|âŒ¨|â|[â©-â³]|[â¸-âº]|ðŸƒ|â¤´|â¤µ|[â†-â‡¿])",a=new RegExp(e,"g");let s;s=a.test(n)?new RegExp(`${e}|([^\\s])`,"g"):new RegExp("[^\\s]","g"),i.find(".word").each(((t,i)=>{i.innerHTML=i.innerText.replace(s,"<span class='letter'>$&</span>")}))}this.animeFunction=anime.timeline({loop:1}),this.animeFunction.id=this.eventId;const e=this.animation.steps.map((t=>this.parseStep({step:t,container:n})));this.loop||t!==this.$list.length-1||e.splice(1),e.forEach((t=>{this.animeFunction.add(t)})),this.animeFunction.play(),this.animeFunction.finished.then((()=>this.onAnimationFinished({index:t,$target:i}))).catch((t=>console.error(t)))}},onAnimationFinished({index:t,$target:i}){if("typing"!==this.animationId){const n=t>=this.$list.length-1;this.purgeCurrentInstance(),i.removeAttr("style"),i.find(".animate").removeAttr("style"),this.$rotator.find(".animation-container").removeClass("active"),n?this.loop?this.playListItem(0):(i.addClass("active"),this.clearAnimation(!1,"animation stop")):this.playListItem(t+1)}},startTypingAnimation(){if("function"!=typeof Typed)return;const t=`.text-rotator.${this.eventId} .typing.active .animate`,i=[],n=new RegExp("(?:[âœ€-âž¿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]ï¸?âƒ£|ãŠ™|ãŠ—|ã€½|ã€°|â“‚|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|ðŸ†Ž|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|ðŸˆš|ðŸˆ¯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|â€¼|â‰|[â–ª-â–«]|â–¶|â—€|[â—»-â—¾]|Â©|Â®|â„¢|â„¹|ðŸ€„|[â˜€-â›¿]|â¬…|â¬†|â¬‡|â¬›|â¬œ|â­|â­•|âŒš|âŒ›|âŒ¨|â|[â©-â³]|[â¸-âº]|ðŸƒ|â¤´|â¤µ|[â†-â‡¿])","g");this.$list.find(".animate").each(((t,e)=>{const a=e.innerText;n.test(a)&&(e.innerHTML=a.replace(n,"`$&`")),i.push(e.innerText)})),this.$list.first().removeClass("active").clone().addClass("typing active").appendTo(this.$rotator),this.setList();const e={...this.animation,strings:i};this.typedFunction=new window.Typed(t,e)},clearAnimation(t=!0){const i=this.animeFunction&&this.animeFunction.children||!1,n=this.typedFunction&&this.typedFunction.strings||!1;if(this.loaded&&"typing"!==this.animationId&&this.purgeCurrentInstance(),i&&(this.animeFunction=null),n&&(this.$rotator.find(".typing").remove(),this.setList(),this.typedFunction.destroy(),this.typedFunction=null),this.animation&&this.animation.id&&(this.animation=null,this.animationSet=!1),this.$rotator.length){const i=this.$rotator.find(".animation-container");this.$rotator.css("opacity",""),this.$rotator.addClass("animation-stopped"),i.length&&(i.removeClass("active"),t?(this.animationStarted=!1,i.first().addClass("active")):i.last().addClass("active"))}},purgeCurrentInstance(){const t=anime.running;let i;t.forEach(((t,n)=>{t.id===this.eventId&&(i=n)})),"number"==typeof i&&t.splice(i,1)},parseAnimation(){let t;if(this.$animationElement.attr("data-steps")){const i=this.$animationElement.attr("data-default-speed");if("typing"===this.animationId){const n=JSON.parse(JSON.parse(this.$animationElement.attr("data-steps")))[0];t={id:this.animationId,loop:this.loop,typeSpeed:Math.round(this.speed*n.typeSpeedFactor*i),backSpeed:Math.round(this.speed*n.backSpeedFactor*i),backDelay:Math.round(this.delay*n.backDelayFactor),contentType:null,preStringTyped:()=>{this.$rotator.removeClass("to-animate")},onStringTyped:t=>{this.loop||t!==this.$list.length-2||setTimeout((()=>{this.clearAnimation(!1)}),180)}}}else t={defaultSpeed:i,steps:JSON.parse(JSON.parse(this.$animationElement.attr("data-steps"))),speed:this.speed,delay:this.delay,id:this.animationId,loop:this.loop,replaceString:"true"===this.$animationElement.attr("data-replace")}}return t},parseStep({step:t,container:i}){return{...t,targets:`${i} ${t.targets}`,duration:this.getStepDuration(t),delay:this.getStepDelay(t)}},getStepDuration(t){return 0===t.duration?0:Math.round(this.speed*(t.durationFactor?t.durationFactor:t.duration)*this.animation.defaultSpeed)},getStepDelay(t){if(0===t.delay)return 0;const i=t.delayFactor?t.delayFactor:1;if(t.delay&&t.delay instanceof Object){const i=this.getStepDuration(t)*t.delay.factor;return t.delay.increment&&t.delay.add?(n,e)=>t.delay.add+i*(e+t.delay.incrementBy):t.delay.increment?(n,e)=>i*(e+t.delay.incrementBy):t.delay.add?(n,e)=>t.delay.add+i*e:(t,n)=>i*n}return Math.round(this.delay*i)},breakToWordsAndLetters(t){const i=t.find(".animate")[0],n=i.innerText;i.innerHTML=n.replace(/({.+})|(\[([^\]]+)])|(\S*\(([^)]+)\)\S{0,1})|\S+/g,"<span class='word'>$&</span>");const e="(?:[âœ€-âž¿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]ï¸?âƒ£|ãŠ™|ãŠ—|ã€½|ã€°|â“‚|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|ðŸ†Ž|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|ðŸˆš|ðŸˆ¯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|â€¼|â‰|[â–ª-â–«]|â–¶|â—€|[â—»-â—¾]|Â©|Â®|â„¢|â„¹|ðŸ€„|[â˜€-â›¿]|â¬…|â¬†|â¬‡|â¬›|â¬œ|â­|â­•|âŒš|âŒ›|âŒ¨|â|[â©-â³]|[â¸-âº]|ðŸƒ|â¤´|â¤µ|[â†-â‡¿])",a=new RegExp(e,"g");let s;s=a.test(n)?new RegExp(`${e}|([^\\s])`,"g"):new RegExp("[^\\s]","g"),t.find(".word").each(((t,i)=>{i.innerHTML=i.innerText.replace(s,"<span class='letter'>$&</span>")}))}});

flexbe_cli.entity.setClientJs("element","table_cell",{components:["icon","image"]});

flexbe_cli.entity.setClientJs("element","table01",{components:["button"],onInit(){this.needSetSize=!0},onMsg(e){"fix_width"===e&&this.fixColsWidth()},onScreen(e){e&&this.needSetSize&&this.updateSizes()},onResize(){this.inScreen?(cancelAnimationFrame(this._raf),this._raf=requestAnimationFrame((()=>{this.updateSizes()}))):this.needSetSize=!0},onVisible({state:e}){e&&(this.needSetSize=e)},updateSizes(){this.needSetSize=!1,this.fixColsWidth(),this.fixAdaptiveColsWidth()},fixColsWidth(){const e=this.fixedCols,t=this.$area.find(".element-content--main .flexbe-table-container").eq(0),i=t.find(".flexbe-table"),n=i.find(".flexbe-table__row--first").find(".flexbe-table__cell"),d=n.length,a=window.pageYOffset;e&&t.css({"--tableWidth":""});const s=Math.min(t.innerWidth(),i.innerWidth());t.css("--tableWidth","0px");let h=n.toArray().map((e=>{let t=e.getAttribute("data-width"),i=!1;t&&"auto"!==t&&(i=!0,t=parseInt(t,10)||0),$(e).css("--colWidth",i?`${t}px`:"0px");const n=e.getBoundingClientRect();return{el:e,width:t,minWidth:Math.ceil(n.width),fixed:i}}));const l=c(h);h=h.map((e=>(!e.fixed&&e.minWidth>l.averageWidth&&(e.fixed=!0,e.width=e.minWidth),e)));const{averageWidth:o,fixedWidth:f,fixedCount:r}=c(h);if(h.forEach((({el:e,fixed:t,width:i,minWidth:n})=>{const d=t?i:o;$(e).css("--colWidth",`${Math.max(d,n)}px`)})),t.css({"--tableWidth":`${d===r?f:s}px`}),e){const e=i.outerWidth(),n=t[0].scrollLeft,d=Math.max(e-s,0);n>d&&(t[0].scrollLeft=d),window.scrollTo(0,a)}function c(e){const t=e.filter((e=>e.fixed)),i=t.length,n=d-i,a=t.reduce(((e,{width:t,minWidth:i})=>e+Math.max(t,i)),0);return{averageWidth:Math.floor((s-a)/n),fixedWidth:a,fixedCount:i}}this.fixedCols=!0},fixAdaptiveColsWidth(){const e=this.$area.find(".element-content--adaptive").find(".flexbe-table--adaptive-attrs");if(e.length){let t=e.eq(0).find(".flexbe-table__row").not(".flexbe-table__row--header, .flexbe-table__row--footer").eq(0).find(".flexbe-table__cell").toArray().map((e=>e.offsetWidth));const i=t.reduce(((e,t)=>e+t),0);t=t.map((e=>Math.round(e/i*100))),e.each(((e,i)=>{$(i).find("colgroup col").each(((e,i)=>{i.setAttribute("width",`${t[e]}%`)}))}))}this.fixedAdaptiveCols=!0}});

flexbe_cli.entity.setClientJs("element","zone_cards",{components:["cards"],onUpdate(e){e.originId===e.id&&this.fixSwiper(e)},fixSwiper(e={}){var i;clearTimeout(this._changeTimer);const t=null==(i=flexbe_cli.components.getInstances(this).filter((e=>"cards"===e.is)))?void 0:i[0],s=t&&t.swiper;if(!s)return!1;if(document.body.contains(s.el)){if(e&&"items_add"===e.reason){const i=s.realIndex,t=e.reasonData.to;let n=i;i+s.params.slidesPerView<=t&&(n=t-s.params.slidesPerView+1),n!==i&&(this._changeTimer=setTimeout((()=>s.slideTo(n)),30))}e.styleRendered&&!e.templateRendered&&requestAnimationFrame((()=>s.$el&&s.update(!1)))}else this._changeTimer=setTimeout((()=>this.fixSwiper(e)),16)}});

flexbe_cli.entity.setClientJs("element","zone_gallery",{components:["cards","image","video"],onUpdate(e={}){setTimeout((()=>{var s;const t=null==(s=flexbe_cli.components.getInstances(this).filter((e=>"cards"===e.is)))?void 0:s[0],i=t&&t.swiper;if(!i)return!1;if(e&&"items_add"===e.reason){const s=i.realIndex,t=e.reasonData.to;let n=s;s+i.params.slidesPerView<=t&&(n=t-i.params.slidesPerView+1),n!==s&&i.slideTo(n)}e.styleRendered&&requestAnimationFrame((()=>i.update(!1)))}),100)}});

flexbe_cli.entity.setClientJs("element","zone",{components:["backgroundElement"],onInit(){this.setMeta()},onUpdate(){this.setMeta()},setMeta(){const i=this.lastViewport,e=this.lastVisibility;this.lastViewport=flexbe_cli.resize.viewportWidth,this.lastVisibility=flexbe_cli.is_admin&&$("body").hasClass("show-hidden"),this.needFixOrder=this.needFixOrder||this.lastViewport!==i||this.lastVisibility!==e},onResize(){this.inScreen&&this.isVisible&&this.fixElementOrder()},fixElementOrder(){if(this.setMeta(),!this.needFixOrder)return;this.needFixOrder=!1;const i=this.$area.find(".elements-list");i.find("[data-hidden]").length&&i.each(((i,e)=>{const t=$(e).find(".element-item--static"),s=t.filter(":visible");t.removeClass("is-first-child is-last-child"),s.first().addClass("is-first-child"),s.last().addClass("is-last-child")}))}});

flexbe_cli.entity.setClientJs("modal","BASIC",{components:["background","icon"],onOpen(){this.$scroll=this.$area.find(".scroller"),this.$content=this.$area.find(".modal-content"),this.$close=this.$scroll.find("> .close--outside"),this.dispatchClasses(),this.$scroll.on("scroll.close-check",$.throttle((()=>{this.dispatchClasses()}),60))},onClose(){this.$scroll.off("scroll.close-check")},dispatchClasses(){if("mobile"!==flexbe_cli.resize.responsiveMode||!this.$close.length)return;const s=this.$scroll[0].scrollTop,e=this.$content[0].offsetTop,l=this.$close[0].offsetHeight;this.$close.toggleClass("stuck",e-s<l)}});

!function(){class t{get isOnScreen(){if(!this.$tabsList)return!1;const{top:t,height:i}=this.$tabsList[0].getBoundingClientRect();return t>0&&t+i<flexbe_cli.resize.viewportHeight}constructor(t){if(this.inited=!1,this.interacted=!1,this.opts=void 0,this.$area=void 0,this.uidAttr=void 0,this.classContainer=void 0,this.activeUid=void 0,this.$activeTab=void 0,this.$activeSection=void 0,this.$mainContainer=void 0,this.$tabsContainer=void 0,this.$tabsList=void 0,this.$swiperHelper=void 0,this.$tabs=void 0,this.$sections=void 0,this.opts=t,this.$area=t.$area,this.uidAttr=t.uidAttr||"data-tab-uid",this.classContainer=t.classContainer,this.initTabs(),t.activeUid)this.selectTab(t.activeUid);else if(window.location.hash){const t=window.location.hash.replace("#",""),i=$(`._anchor[name="${t}" i]`),e=i.length?i.closest("[data-id]"):$(`[data-id="${t}" i]`),s=i[0]||e[0];s&&this.selectTabFromTarget(s)}this.$area.on("bringIntoView",(t=>this.selectTabFromTarget(t.target)))}initTabs(){if(this.$mainContainer="self"===this.classContainer?this.$area:this.$area.find(this.classContainer),this.$tabsContainer=this.$area.find(".container-tabs"),this.$tabsList=this.$area.find('[role="tablist"]'),this.$swiperHelper=this.$area.find(".tab-swiper-helper"),this.inited=!!this.$tabsList.length,this.inited&&(this.$tabs=this.$tabsList.find('[role="tab"]'),this.$sections=this.$mainContainer.find('[role="tabpanel"]'),this.normalizeLines(),setTimeout((()=>{this.$mainContainer.addClass("main-area--tabs-inited")}),50),this.$tabsContainer.on("click",".tab",(t=>{const i=$(t.currentTarget).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);i&&this.selectTab(i)})),this.$tabsList.on("wheel",(t=>{flexbe_cli.run.is_pointer&&0===t.originalEvent.wheelDeltaX&&0!==t.originalEvent.wheelDeltaY&&(t.preventDefault(),this.$tabsList[0].scrollLeft+=t.originalEvent.wheelDeltaY)})),this.$tabsList.on("touchstart",(()=>{this.interacted=!0,this.destroySwipeAnimation()})),flexbe_cli.is_admin)){let t;this.$tabsContainer.on("mouseenter",".tab",(i=>{1===i.buttons&&document.body.classList.contains("state--in-move")&&(clearTimeout(t),t=setTimeout((()=>{const t=$(i.target).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);this.selectTab(t)}),700))})),this.$tabsContainer.on("mouseleave",".tab",(()=>{clearTimeout(t)}))}}swipeAnimationController(){if(!this.inited)return;const t=this.$tabsList[0]&&this.$tabsList[0].scrollWidth>this.$tabsList[0].clientWidth,i=this.isOnScreen;t&&i?this.initSwiperAnimation():i||this.destroySwipeAnimation()}initSwiperAnimation(){this.$swiperHelper.hasClass("show")||this.interacted||this.$swiperHelper.addClass("show")}destroySwipeAnimation(){this.$swiperHelper.hasClass("show")&&this.$swiperHelper.removeClass("show")}selectTabFromIndex(t){const i=this.$tabs.get(t);this.selectTabFromTarget(i)}selectTabFromTarget(t){const i=$(t).closest(`[${this.uidAttr}]`).attr(`${this.uidAttr}`);this.selectTab(i)}selectTab(t,{force:i}={}){var e,s;if(!t||!i&&this.activeUid===t)return;this.inited||this.initTabs();const a=null!=(e=null==(s=this.$tabs)?void 0:s.filter(`[${this.uidAttr}="${t}"]`))?e:[];if(!a.length)return;const n=this.$sections.filter(".active"),o=n[0]&&n[0].offsetTop,r=this.$sections.filter(`[${this.uidAttr}="${t}"]`);this.scrollToTab(a),this.$tabs.removeClass("active").attr("aria-selected",!1).attr("tabindex",-1),a.addClass("active").attr("aria-selected",!0).attr("tabindex",0),this.$sections.removeClass("active").prop("hidden",!0),r.addClass("active").prop("hidden",!1);const l=r[0]&&r[0].offsetTop;if(this.activeUid=t,this.$activeTab=a,this.$activeSection=r,n[0].dispatchEvent(new CustomEvent("element-become-hidden")),r[0].dispatchEvent(new CustomEvent("element-become-visible")),"function"==typeof this.opts.onSelectTab&&this.opts.onSelectTab({uid:t,$tab:a}),!flexbe_cli.run.is_mobile&&null!=o&&null!=l&&Math.abs(o-l)>0&&"undefined"!=typeof anime){const t=this.$mainContainer,i=o-l;t.css("will-change","transform"),anime({targets:t[0],translateY:[i,0],duration:250,easing:"easeOutCubic",complete:()=>{t.css({transform:"","will-change":""})}})}}normalizeLines(){if(!this.inited)return;let t;const i=this.$tabs;this.$tabsList.find(".tab-spacer").remove(),i.removeClass("first-in-line last-in-line"),i.first().addClass("first-in-line"),i.last().addClass("last-in-line"),i.each(((i,e)=>{t&&t.offsetTop!==e.offsetTop&&($(e).addClass("first-in-line"),$(t).addClass("last-in-line"),$(t).after('<span class="tab-spacer"></span>')),t=e}))}scrollToTab(t){if(!this.inited)return;const i=this.$tabsList,e=i[0].scrollWidth;if(e>i[0].offsetWidth){const s=t[0].offsetLeft,a=t[0].getBoundingClientRect(),n=flexbe_cli.resize.viewportWidth;let o;a.width>n||a.left<20?o=s-20:a.right>n-20&&(o=s-(n-20-a.width)),null!=o&&(o=Math.max(0,Math.min(e-n,o)),i.animate({scrollLeft:o},{duration:250}))}}resetHash(){if(!this.inited)return;String(window.location.hash).replace(/^#{1,2}(tab)?/,"")===this.activeUid&&(flexbe_cli.lockPopstate=!0,window.history.replaceState(null,null,window.location.pathname),flexbe_cli.lockPopstate=!1)}}flexbe_cli.entity.setClientJs("block","BUNDLE",{components:["background"],tabsController:void 0,shouldInitTabs:!0,onUpdate({templateRendered:t,reasonData:i}){t&&(this.shouldInitTabs=!0),["create","copy"].includes(i.source)&&requestAnimationFrame((()=>this.tabsController.selectTabFromIndex(i.to)))},onResize(){this.tabsController&&this.tabsController.normalizeLines()},onBeside(t){t&&this.shouldInitTabs&&this.createTabs()},onScreen(t){this.tabsController&&(t||(this.tabsController.swipeAnimationController(),this.tabsController.resetHash()))},onFocus(t){this.tabsController&&t&&this.tabsController.swipeAnimationController()},createTabs(){this.shouldInitTabs=!1,this.$area.find('[role="tabpanel"]').length?this.tabsController=new t({$area:this.$area,classContainer:".main-area",activeUid:this.selectedTabUid,onSelectTab:({uid:t})=>{this.selectedTabUid=t,this.updateTween()}}):this.tabsController=null}})}();

flexbe_cli.entity.setClientJs("block","FOOTER",{components:["background"]});

flexbe_cli.entity.setClientJs("element","avatar01",{components:["icon","image"]});

flexbe_cli.entity.setClientJs("element","button01",{components:["icon","button"]});

flexbe_cli.entity.setClientJs("element","form01",{components:["form","icon","button"]});
